g(2,3,5,1).
g(4,5,2,1).
g(7,3,1,2).
g(5,6,4,3).
g(5,6,7,4).
g(6,4,7,3).
r(1,5).
r(2,6).
r(3,7).
g(A,B,C,D) :- g(D,A,B,C).
r(A,B) :- r(B,A).
b(A,B) :- b(B,A).
b(A,B) :- g(A,B,C,F), g(A,B,D,E), r(C,D).
b(B,C) :- b(A,B), b(D,C), r(A,D).
w(B) :- b(A,B), b(C,B), r(A,C).
:- w(4).