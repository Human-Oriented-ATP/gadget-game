b(1,2).
b(3,4).

g(1,2).
g(2,3).
g(3,4).
g(4,5).

r(4,3,1).
r(5,6,1).
r(6,3,2).
r(1,2,3).
r(2,7,4).
r(4,1,5).
r(3,4,7).

b(C,E) :- r(C,D,A), r(D,E,B), b(A,B).
g(A,B) :- g(A,C), g(C,B).

w(A) :- b(A,B), b(A,C), g(B,C).

:- w(A).